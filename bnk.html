<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bank</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" rel="stylesheet">
  <style>
    html, body, .fullheight {height:100%;}
    body {background-color:#333333;color:#888888;}
    a {color:#aaaaaa; text-decoration:none;}
    /*#insListDiv{height:100%;overflow:auto;}*/
    /*tbody tr:nth-child(odd) { background-color: #222222; }*/
    .active {background-color:#444444;}
    input#searchkey {
        background-color:#333333;
        width: 100%;
        border: 0px;
        color:#888888;
    }
  </style>
  <script src="kssmcode.js?v1.0"></script>
  <script>
    Number.prototype.format = function(){return new String(this).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",")}

    var params = URLSearchParams && new URLSearchParams(document.location.search.substring(1));
    var url = params && params.get("url") && decodeURIComponent(params.get("url"));


/*
responseType json, text, blob, arraybuffer
     : ë¹ˆ ë¬¸ìì—´ì€ ê¸°ë³¸ ìœ í˜•ì¸ ì™€ ë™ì¼í•©ë‹ˆë‹¤.responseType"text"
text : ì‘ë‹µ ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë°›ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì„œë²„ ì‘ë‹µì´ ë¬¸ìì—´ ê·¸ëŒ€ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.
json : ì„œë²„ì—ì„œ JSON í˜•ì‹ì˜ ì‘ë‹µ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. 
       ì„œë²„ ì‘ë‹µì´ JSONìœ¼ë¡œ íŒŒì‹±ë˜ì–´ JavaScript ê°ì²´ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.
blob : ì‘ë‹µ ë°ì´í„°ë¥¼ ì´ì§„ ë°ì´í„°(Binary Data)ë¡œ ë°›ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. 
       ì´ì§„ ë°ì´í„°ëŠ” íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë“±ê³¼ ê°™ì€ ìƒí™©ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤.
arraybuffer : ì‘ë‹µ ë°ì´í„°ë¥¼ ArrayBuffer í˜•ì‹ìœ¼ë¡œ ë°›ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. 
              ì´ì§„ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
              ì˜¤ë””ì˜¤, ë¹„ë””ì˜¤ ë“±ì˜ ì´ì§„ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³  ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
document : HTML ë¬¸ì„œ ë˜ëŠ” XML XML ë¬¸ì„œì´ë©°, ìˆ˜ì‹ ëœ ë°ì´í„°ì˜ MIME ìœ í˜•ì— ë”°ë¼ ì ì ˆí•©ë‹ˆë‹¤.
*/
var ajaxcounter = 0;
//var _xhr;
    function Ajax(param){
        //console.log(new Date().toISOString(), 'start');
        var xhr = new XMLHttpRequest();
        window['_xhr'] = xhr; // debug ìš©
        ajaxcounter++;

        xhr.open('GET', param.url, true);
//        xhr.open('GET', url, false);
        if(param.type) xhr.responseType = param.type; // json, text, blob, arraybuffer
        xhr.withCredentials = true;
        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest'); xhr.setRequestHeader('Access-Control-Allow-Origin', '*');

        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.setRequestHeader('Accept', 'application/json, text/plain, */*'); 

        // via Cache-Control header:
        xhr.setRequestHeader("Cache-Control", "no-cache, no-store, max-age=0");

        // fallbacks for IE and older browsers:
        xhr.setRequestHeader("Expires", "Tue, 01 Jan 1980 1:00:00 GMT");
        xhr.setRequestHeader("Pragma", "no-cache"); //Edit: I noticed this is required for Chrome some time ago... forgot to mention here

        xhr.onprogress = (e)=>{
            if (e.lengthComputable){
                console.log(`Received ${e.loaded} of ${e.total}bytes`)
            } else {
                console.log(`Received ${e.loaded} bytes`)
            }
            if(param.progress) param.progress(e);
        }
        // Process the response when the request is ready.
        xhr.onload = function(e) {
          if (this.status == 200) {
              param.callback(this);
              ajaxcounter--;
          }
        };
        xhr.onerror = function(e){
            console.log('err',e)
        }
        xhr.send();
    }

    function loadBNK(rs){
        var getByte = new GetByte(rs);
        GetByte.isAscii=true;

        // BNK í•´ë” ì •ì˜
        function BnkHeader(){
            return {
                 majorVersion : getByte( 1, 'int8' ) //  1
                ,minorVersion : getByte( 1, 'int8' ) //  2
                ,sig          : getByte( 6         ) //  8 'ADLIB-'
                ,ins_num      : getByte( 2, 'int16') // 10
                ,max_num      : getByte( 2, 'int16') // 12
                ,offsetList   : getByte( 4, 'int32') // 16
                ,offsetTimber : getByte( 4, 'int32') // 20
                ,filler       : getByte( 8         ) // 28
            }
        }

        bnkHeader = new BnkHeader();
        //console.log(new Date().toJSON(),'bnkHeader',bnkHeader);

        //console.log(new Date().toJSON(),'INS Name pos',pos);
        function BnkEntery(){
            return {
                index  : getByte(2, 'int16') //  2
               ,active : getByte(1, 'int8' ) //  3
               ,name   : getByte(9         ) // 12
            }

        }
        //ins_name = new BnkEntery();
        //console.log(new Date().toJSON(),'ins_name',ins_name);
        // 2025-03-11
        // headerì˜ filler ê°€ ì—†ëŠ” BNK íŒŒì¼ì´ ìˆì–´ ìˆ˜ì •í•¨
        getByte(bnkHeader.offsetList, 'pos');
        //console.log('bnkHeader.offsetList',bnkHeader.offsetList);
        //console.log(new Date().toJSON(),'INS Name pos',GetByte.pos);
        ins_name = [];
        //for(i=0; i<bnkHeader.ins_num; i++) ins_name.push( new BnkEntery() );
        //for(i=0; i<bnkHeader.max_num; i++) ins_name.push( new BnkEntery() );
        for(i=0; i<bnkHeader.max_num; i++){
            ins_name.push( new BnkEntery() );
            if(GetByte.isErr) console.log('idx', i );
        }

        //console.log(new Date().toJSON(),'ins_name',ins_name);
        //console.log(new Date().toJSON(),'INS Data pos',GetByte.pos);

        function Operator(){
            return {
                ksl       : getByte(1, 'int8' ) //  1
               ,freqMult  : getByte(1, 'int8' ) //  2
               ,feedBack  : getByte(1, 'int8' ) //  3
               ,attack    : getByte(1, 'int8' ) //  4
               ,sustLevel : getByte(1, 'int8' ) //  5
               ,sustain   : getByte(1, 'int8' ) //  6
               ,decay     : getByte(1, 'int8' ) //  7
               ,release   : getByte(1, 'int8' ) //  8
               ,output    : getByte(1, 'int8' ) //  9
               ,am        : getByte(1, 'int8' ) // 10
               ,vib       : getByte(1, 'int8' ) // 11
               ,ksr       : getByte(1, 'int8' ) // 12
               ,fm        : getByte(1, 'int8' ) // 13
            }
        }

        function Timbre(){
            return {
                mode  : getByte(1, 'int8')  //  1
               ,voice : getByte(1, 'int8')  //  2
               ,op0   : Operator()   // 13  // 15
               ,op1   : Operator()   // 13  // 28
               ,wave0 : getByte(1, 'int8')  // 29
               ,wave1 : getByte(1, 'int8')  // 30
            }
        }

        //timbre = new Timbre();
        //console.log(new Date().toJSON(),'timbre',timbre);
        // 2025-03-11
        // headerì˜ filler ê°€ ì—†ëŠ” BNK íŒŒì¼ì´ ìˆì–´ ìˆ˜ì •í•¨
        getByte(bnkHeader.offsetTimber, 'pos');
        timbre = [];
        //for(i=0; i<bnkHeader.ins_num; i++) timbre.push( new Timbre() );
        for(i=0; i<bnkHeader.max_num; i++) timbre.push( new Timbre() );
        //console.log(new Date().toJSON(),'timbre',timbre);
        //console.log(new Date().toJSON(),'END pos',GetByte.pos);
    }

function readTemplet(id){
    var templet = document.querySelector(id).innerHTML;

    // 0 header 1 list 2 bottom
    var arrTemp = templet.replace('/*','').replace('*/','').split('[list]');

    var isHeader=false;
    var head = [];
    function header(row){
        isHeader = true;
        var tmp=arrTemp[0]; // header
        row.forEach(item=>tmp=tmp.replace(item.tag,item.value));
        list.push(tmp);
    }
    var list = [];
    function listRow(row){
        var tmp=arrTemp[1]; // list
        row.forEach(item=>tmp=tmp.replace(item.tag,item.value));
        list.push(tmp);
    }
    function draw(elId){
        var el = document.querySelector(elId);
        el.innerHTML = (isHeader?head.join(''):arrTemp[0])+list.join('')+(arrTemp[2]||'');
    }

    return {header:header,list:listRow,draw:draw};
}

/*
fetch('some/url', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/octet-stream',
    },
    responseType: 'blob' //í˜¹ì€ 'arraybuffer'ë„ ì¢‹ìŠµë‹ˆë‹¤.
    body: JSON.stringify({ fId: 'someId' })
})
*/

    var beforeBnkTR = null;
    function bnkLoad(bnkfile,idx){
        //Ajax({url:'KJM1.BNK',type:'arraybuffer',callback:loadBNK});
        //Ajax({url:'DREAM.BNK',type:'arraybuffer',callback:loadBNK});
        //Ajax({url:'STANDARD.650.BNK',type:'arraybuffer',callback:loadBNK});
        //Ajax({url:'STANDARD.997.BNK',type:'arraybuffer',callback:loadBNK});
        //console.log('idx',idx);
        document.querySelector('#bnk'+idx).className='active';
        if(beforeBnkTR){
            //console.log('beforeBnkTR',beforeBnkTR);
            beforeBnkTR.className='';
        }
        beforeBnkTR = document.querySelector('#bnk'+idx);
        Ajax({url:bnkfile,type:'arraybuffer'
            ,callback:(xhr)=>{
                loadBNK(xhr.response);
//                console.log('uInt8Array[28]', uInt8Array[28]);
                var html = readTemplet('#bnkHeaderTemplet');
                html.header([{tag:'[majorVersion]',value:bnkHeader.majorVersion}
                            ,{tag:'[minorVersion]',value:bnkHeader.minorVersion}
                            ,{tag:'[sig]'         ,value:bnkHeader.sig}
                            ,{tag:'[ins_num]'     ,value:bnkHeader.ins_num.format()}
                            ,{tag:'[max_num]'     ,value:bnkHeader.max_num.format()}
                            ,{tag:'[offsetList]'  ,value:bnkHeader.offsetList.format()}
                            ,{tag:'[offsetTimber]',value:bnkHeader.offsetTimber.format()}
                            ,{tag:'[filename]'    ,value:xhr.responseURL.split('/').pop()}]);
                html.draw('#bnkHeaderDiv'); // BNK Header ì¶œë ¥

                putTimbreNameList(); // ë±…í¬ë‚´ ì•…ê¸° ëª©ë¡ ì¶œë ¥
            }
            ,progress:(e)=>{
                if (e.lengthComputable){
                    document.querySelector('#insInfoDiv').innerHTML = `Received ${e.loaded} of ${e.total}bytes`;
                } else {
                    document.querySelector('#insInfoDiv').innerHTML = `Received ${e.loaded} bytes`;
                }
            }
        })
    }


    // ì „ì²´/ìŒ/íƒ€ ì•…ê¸° í‘œì‹œ í† ê¸€
    changeTimberMT.icon = ['ğŸ¹','ğŸ¥','ğŸ§'];
    function changeTimberMT(obj){
        putTimbreNameList.isMT = ++putTimbreNameList.isMT % 3;
        putTimbreNameList();
    }

    // ì•…ê¸°ëª… ê²€ìƒ‰
    function search(ev){
        //console.log(ev)
        if(ev.key == 'Enter') putTimbreNameList();
    }

    // ë±…í¬ë‚´ ì•…ê¸° ëª©ë¡ ì¶œë ¥ Activeë§Œ
    putTimbreNameList.isMT = 2; // ì•…ê¸°ì¢…ë¥˜(mode) : 0 ìŒ ì•…ê¸°, 1 íƒ€ ì•…ê¸°, 2 ì „ì²´
    function putTimbreNameList(){
        var insTemp = readTemplet('#insListTemplet');
        var list = ins_name;
        console.log('putTimbreNameList.isMT',putTimbreNameList.isMT);
        if(putTimbreNameList.isMT<2)
            list = list.filter( (item,idx)=>{return timbre[idx].mode==putTimbreNameList.isMT} );
        var search='';
        if(typeof searchkey != 'undefined'){
            if(searchkey.value||''){
                search = searchkey.value;
                list = list.filter( item=>item.name.toUpperCase().indexOf(searchkey.value.toUpperCase())>-1 );
            }
        }
        //ins_name.forEach( (item,idx)=>{
        insTemp.header([{tag:'[icon]'  ,value:changeTimberMT.icon[ putTimbreNameList.isMT ] }
                       ,{tag:'[search]',value:search} ]);
        list.forEach( (item,idx)=>{
            if(item.active){
                var mode = timbre[item.index].mode ? 'ğŸ¥':'ğŸ¹';
                //var mode = ['ğŸ¹','ğŸ¥'][timbre[idx].mode]; // 1 ì´ì™¸ì˜ ê°’ 207 ì´ ë°œê²¬ë˜ì–´ ì‚¬ìš©ì¤‘ì§€í•¨.
                insTemp.list([{tag:'[no]'      ,value:idx        }
                             ,{tag:/\[idx\]/g  ,value:item.index }
                             ,{tag:'[mode]'    ,value:mode       }
                             //,{tag:'[ins_name]',value:insName  }
                             ,{tag:'[ins_name]',value:item.name  }
                             ,{tag:'[active]'  ,value:item.active}]);
            }
        });
        insTemp.draw('#insListDiv');
        insListDiv.scrollTop=0; // ì•…ê¸°ëª©ë¡ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™”
        setTimeout( ()=>{       // íƒ€ì´í‹€ ì˜ì—­ í¬ê¸° ë™ê¸°í™”
            var table = document.querySelector('#insListDiv > table');
            table.rows[0].cells[0].style.width = table.rows[1].cells[0].offsetWidth + 'px';
            table.rows[0].cells[1].style.width = table.rows[1].cells[1].offsetWidth + 'px';
            table.rows[0].cells[2].style.width = table.rows[1].cells[2].offsetWidth + 'px';
        }, 500);
    }

    //var beforeInsTR = null;
    viewIns.beforeInsTR = null;
    viewIns.percussive = ['','','','','','','Base Drum','Snare Drum','Tom-Tom','Cymbal','Hi-Hat']
    function viewIns(idx){
        document.querySelector('#ins'+idx).className='active';
        if(viewIns.beforeInsTR){
            viewIns.beforeInsTR.className='';
        }
        viewIns.beforeInsTR = document.querySelector('#ins'+idx);
        var insInfoTemp = readTemplet('#insInfoTemplet');
        //var modeval = timbre[idx].mode + ' ' + (timbre[idx].mode?'íƒ€ ì•…ê¸°':'ìŒ ì•…ê¸°');
        var modeval = timbre[idx].mode + ' ' + (timbre[idx].mode ? 'ğŸ¥':'ğŸ¹');
        var voice = timbre[idx].voice;
        if(timbre[idx].voice) voice=timbre[idx].voice + '<font color=#008000>' + viewIns.percussive[ timbre[idx].voice ] + '</font>';
        //console.log('modeval',modeval)
        insInfoTemp.header([{tag:'[ins_name]'  ,value:ins_name[idx].name}
                           ,{tag:'[idx]'       ,value:idx} 
                           ,{tag:'[mode]'      ,value:modeval} // 0 
                           ,{tag:'[voice]'     ,value:voice}  //Voice number (percussive only)
                           // op0 : ë³€ì¡°ê¸° ì—°ì‚°ìì— ëŒ€í•œ ë“±ë¡ ê°’
                           // op1 : Carrier ì—°ì‚°ìì— ëŒ€í•œ ë“±ë¡ ê°’
                           ,{tag:'[ksl0]'      ,value:timbre[idx].op0.ksl} 
                           ,{tag:'[freqMult0]' ,value:timbre[idx].op0.freqMult}
                           ,{tag:'[feedBack0]' ,value:timbre[idx].op0.feedBack}
                           ,{tag:'[attack0]'   ,value:timbre[idx].op0.attack}
                           ,{tag:'[sustLevel0]',value:timbre[idx].op0.sustLevel}
                           ,{tag:'[sustain0]'  ,value:timbre[idx].op0.sustain}
                           ,{tag:'[decay0]'    ,value:timbre[idx].op0.decay}
                           ,{tag:'[release0]'  ,value:timbre[idx].op0.release}
                           ,{tag:'[output0]'   ,value:timbre[idx].op0.output}
                           ,{tag:'[am0]'       ,value:timbre[idx].op0.am}
                           ,{tag:'[vib0]'      ,value:timbre[idx].op0.vib}
                           ,{tag:'[ksr0]'      ,value:timbre[idx].op0.ksr}
                           ,{tag:'[fm0]'       ,value:timbre[idx].op0.fm}
                           ,{tag:'[ksl1]'      ,value:timbre[idx].op1.ksl}
                           ,{tag:'[freqMult1]' ,value:timbre[idx].op1.freqMult}
                           ,{tag:'[feedBack1]' ,value:timbre[idx].op1.feedBack}
                           ,{tag:'[attack1]'   ,value:timbre[idx].op1.attack}
                           ,{tag:'[sustLevel1]',value:timbre[idx].op1.sustLevel}
                           ,{tag:'[sustain1]'  ,value:timbre[idx].op1.sustain}
                           ,{tag:'[decay1]'    ,value:timbre[idx].op1.decay}
                           ,{tag:'[release1]'  ,value:timbre[idx].op1.release}
                           ,{tag:'[output1]'   ,value:timbre[idx].op1.output}
                           ,{tag:'[am1]'       ,value:timbre[idx].op1.am}
                           ,{tag:'[vib1]'      ,value:timbre[idx].op1.vib}
                           ,{tag:'[ksr1]'      ,value:timbre[idx].op1.ksr}
                           ,{tag:'[fm1]'       ,value:timbre[idx].op1.fm}
                           ,{tag:'[wave0]'     ,value:timbre[idx].wave0}    // ë³€ì¡°ê¸° íŒŒë™ ì„ íƒ(OPL ê¸°ë³¸ ë ˆì§€ìŠ¤í„° 0xE0)
                           ,{tag:'[wave1]'     ,value:timbre[idx].wave1}]); // ìºë¦¬ì–´íŒŒ ì„ íƒ(OPL ë² ì´ìŠ¤ ë ˆì§€ìŠ¤í„° 0xE0)
        insInfoTemp.draw('#insInfoDiv');
    }

    // ë±…í¬ íŒŒì¼ ëª©ë¡ ì½ê¸°
    function loadBnkList(){
        Ajax({url:'list.php',type:'json'
            ,callback:(rs)=>{
                //console.log(rs.response);
                var html = readTemplet('#bnkListTemplet');
                //var no=1;
                rs.response.forEach( (item, idx)=>{
                    var filename = '<a href="javascript:bnkLoad(\''+item.filename+'\','+idx+')">'
                                 + item.filename
                                 + '</a>';
                    html.list([{tag:'[no]'      ,value:idx+1              },
                               {tag:'[filename]',value:filename           },
                               {tag:'[size]'    ,value:item.size.format() },
                               {tag:'[idx]'     ,value:idx      }]);
                } );
                html.draw('#bnkListDiv');
                setTimeout( ()=>{
                    document.querySelector('#insLstTbl').style.height
                        = (document.body.offsetHeight - document.querySelector('#bnkLstTbl').offsetHeight-25) + 'px';
                },500);
            }
        })
    }
/*
var _ev;
    window.addEventListener("click", function(ev){
        _ev=ev;
        console.log('ev',ev.target)
    });
*/
    window.addEventListener("load", function(e){
        //console.log(new Date().toJSON(),'window.onload START');
        loadBnkList();
        //console.log(new Date().toJSON(),'window.onload END');
    });

  </script>
</head>
<body>
<table id=bnkLstTbl width=100%>
 <tr>
  <td><div id=bnkListDiv></div></td><td>&nbsp;&nbsp;&nbsp;</td>
  <td valign=bottom align=right><div id=bnkHeaderDiv>
<b style='color:#aaaaaa'>[filename]</b> Header
<table>
  <tr><th>majorVersion</th><td align=right>[majorVersion]</td></tr>
  <tr><th>minorVersion</th><td align=right>[minorVersion]</td></tr>
  <tr><th>ì„œëª…</th><td>[sig]</td></tr>
  <tr><th>ì‚¬ìš©ì•…ê¸°ìˆ˜</th><td align=right>[ins_num]</td></tr>
  <tr><th>ì „ì²´ì•…ê¸°ìˆ˜</th><td align=right>[max_num]</td></tr>
  <tr><th>ì•…ê¸°ëª©ë¡ì‹œì‘</th><td align=right>[offsetList]</td></tr>
  <tr><th>ì•…ê¸°ì •ë³´ì‹œì‘</th><td align=right>[offsetTimber]</td></tr>
</table>
  </div></td>
 </tr>
</table>
<table id=insLstTbl width=100% height=50%>
 <tr>
  <td><div id=insListDiv style="height:100%;overflow:auto;"></div></td>
  <td> </td>
  <td valign=top align=right><div id=insInfoDiv>
<font size=-1>[idx].</font><b style="color:#aaaaaa">[ins_name]</b> ì•…ê¸° ì •ë³´
<table>
    <tr><th>mode</th><td colSpan=2 align=right>[mode]</td></tr>
    <tr><th>voice(íƒ€ì•…ê¸°ğŸ¥ìš©)</th><td colSpan=2 align=right>[voice]</td></tr>
    <tr style="border-top:1px #434343 solid;border-bottom:1px #434343 solid;"><th>operstion</th><th>op0</th><th>op1</th></tr>
    <tr><th>í‚¤ í™•ì¥ ìˆ˜ì¤€</th><td align=right>[ksl0]</td><td align=right>[ksl1]</td></tr>
    <tr><th>ì£¼íŒŒìˆ˜ ìŠ¹ìˆ˜</th><td align=right>[freqMult0]</td><td align=right>[freqMult1]</td></tr>
    <tr><th>í”¼ë“œë°±(op0)</th><td align=right>[feedBack0]</td><td align=right style="color:#444444;">[feedBack1]</td></tr>
    <tr><th>Attack rate</th><td align=right>[attack0]</td><td align=right>[attack1]</td></tr>
    <tr><th>Sustain level</th><td align=right>[sustLevel0]</td><td align=right>[sustLevel1]</td></tr>
    <tr><th>ì§€í‘œ ì´ë“(0ì•„ë‹ˆë©´ ì ìš©)</th><td align=right>[sustain0]</td><td align=right>[sustain1]</td></tr>
    <tr><th>ê°ì‡ ìœ¨</th><td align=right>[decay0]</td><td align=right>[decay1]</td></tr>
    <tr><th>ì¶œì‹œìœ¨</th><td align=right>[release0]</td><td align=right>[release1]</td></tr>
    <tr><th>ì´ ì¶œë ¥ ë ˆë²¨</th><td align=right>[output0]</td><td align=right>[output1]</td></tr>
    <tr><th>ì§„í­ ë³€ì¡°(íŠ¸ë ˆëª°ë¡œ)</th><td align=right>[am0]</td><td align=right>[am1]</td></tr>
    <tr><th>ì£¼íŒŒìˆ˜ ë¹„ë¸Œë¼í† </th><td align=right>[vib0]</td><td align=right>[vib1]</td></tr>
    <tr><th>í‚¤ ìŠ¤ì¼€ì¼ë§/ì¸ë²¨ë¡œí”„ ì†ë„</th><td align=right>[ksr0]</td><td align=right>[ksr1]</td></tr>
    <tr style="border-bottom:1px #434343 solid;"><th>ì»¤ë„¥í„°(op0)</th><td align=right>[fm0]</td><td align=right style="color:#444444;">[fm1]</td></tr>
    <tr><th>ë³€ì¡°ê¸° ì›¨ì´ë¸Œ ì„ íƒ</th><td colSpan=2 align=right>[wave0]</td></tr>
    <tr><th>ë°˜ì†¡íŒŒ ì„ íƒ</th><td colSpan=2 align=right>[wave1]</td></tr>
</table></div></div></td>
 </tr>
</table>

<br>
<div id=pageDiv></div>


<script id=bnkListTemplet>
/*
<table>
  <tr>
    <th>No</th><th>BNK File</th><th>Size</th>
  </tr>
  [list]
  <tr id=bnk[idx]>
    <td align=right>[no]</td>
    <td>[filename]</td>
    <td align=right>[size]</td>
  </tr>
  [list]
</table>
*/
</script>
<script id=bnkHeaderTemplet>
/*
<b style='color:#aaaaaa'>[filename]</b> Header
<table>
  <tr><th>majorVersion</th><td align=right>[majorVersion]</td></tr>
  <tr><th>minorVersion</th><td align=right>[minorVersion]</td></tr>
  <tr><th>ì„œëª…</th><td>[sig]</td></tr>
  <tr><th>ì‚¬ìš©ì•…ê¸°ìˆ˜</th><td align=right>[ins_num]</td></tr>
  <tr><th>ì „ì²´ì•…ê¸°ìˆ˜</th><td align=right>[max_num]</td></tr>
  <tr><th>ì•…ê¸°ëª©ë¡ì‹œì‘</th><td align=right>[offsetList]</td></tr>
  <tr><th>ì•…ê¸°ì •ë³´ì‹œì‘</th><td align=right>[offsetTimber]</td></tr>
</table>
*/
</script>
<script id=insListTemplet>
/*
<table>
  <tr style="position: fixed;background-color:#333333;">
    <th>No</th><th id=timbreMTTH onclick="changeTimberMT(this)">[icon]</th><th><input placeholder="ì•…ê¸°ëª…" id="searchkey" onkeyup="search(event)" value="[search]"></th>
  </tr>
  <tr>
    <th>No</th><th>ğŸ§</th><th>ì•…ê¸°ëª…</th>
  </tr>
  [list]
  <tr id=ins[idx] onclick="viewIns('[idx]')">
    <td align=right><font size=-1>[no]</font></td>
    <td>[mode]</td>
    <td>[ins_name]</td>
  </tr>
  [list]
</table>
*/
</script>
<script id=insInfoTemplet>
/*
<font size=-1>[idx].</font><b style="color:#aaaaaa">[ins_name]</b> ì•…ê¸° ì •ë³´
<table>
    <tr><th>mode</th><td colSpan=2 align=right>[mode]</td></tr>
    <tr><td colSpan=3><table width=100%><tr><th>voice(íƒ€ì•…ê¸°ğŸ¥ìš©)</th><td align=right>[voice]</td></tr></table></td></tr>
    <tr style="border-top:1px #434343 solid;border-bottom:1px #434343 solid;"><th>operstion</th><th>op0</th><th>op1</th></tr>
    <tr><th>í‚¤ í™•ì¥ ìˆ˜ì¤€</th><td align=right>[ksl0]</td><td align=right>[ksl1]</td></tr>
    <tr><th>ì£¼íŒŒìˆ˜ ìŠ¹ìˆ˜</th><td align=right>[freqMult0]</td><td align=right>[freqMult1]</td></tr>
    <tr><th>í”¼ë“œë°±(op0)</th><td align=right>[feedBack0]</td><td align=right style="color:#444444;">[feedBack1]</td></tr>
    <tr><th>Attack rate</th><td align=right>[attack0]</td><td align=right>[attack1]</td></tr>
    <tr><th>Sustain level</th><td align=right>[sustLevel0]</td><td align=right>[sustLevel1]</td></tr>
    <tr><th>ì§€í‘œ ì´ë“(0ì•„ë‹ˆë©´ ì ìš©)</th><td align=right>[sustain0]</td><td align=right>[sustain1]</td></tr>
    <tr><th>ê°ì‡ ìœ¨</th><td align=right>[decay0]</td><td align=right>[decay1]</td></tr>
    <tr><th>ì¶œì‹œìœ¨</th><td align=right>[release0]</td><td align=right>[release1]</td></tr>
    <tr><th>ì´ ì¶œë ¥ ë ˆë²¨</th><td align=right>[output0]</td><td align=right>[output1]</td></tr>
    <tr><th>ì§„í­ ë³€ì¡°(íŠ¸ë ˆëª°ë¡œ)</th><td align=right>[am0]</td><td align=right>[am1]</td></tr>
    <tr><th>ì£¼íŒŒìˆ˜ ë¹„ë¸Œë¼í† </th><td align=right>[vib0]</td><td align=right>[vib1]</td></tr>
    <tr><th>í‚¤ ìŠ¤ì¼€ì¼ë§/ì¸ë²¨ë¡œí”„ ì†ë„</th><td align=right>[ksr0]</td><td align=right>[ksr1]</td></tr>
    <tr style="border-bottom:1px #434343 solid;"><th>ì»¤ë„¥í„°(op0)</th><td align=right>[fm0]</td><td align=right style="color:#444444;">[fm1]</td></tr>
    <tr><th>ë³€ì¡°ê¸° ì›¨ì´ë¸Œ ì„ íƒ</th><td colSpan=2 align=right>[wave0]</td></tr>
    <tr><th>ë°˜ì†¡íŒŒ ì„ íƒ</th><td colSpan=2 align=right>[wave1]</td></tr>
</table>
<font style="color:#444444;">op0 : ë³€ì¡°ê¸° ì—°ì‚°ìì— ëŒ€í•œ ë“±ë¡ ê°’<Br>
op1 : Carrier ì—°ì‚°ìì— ëŒ€í•œ ë“±ë¡ ê°’</font>

*/
</script>

</body>
</html>
